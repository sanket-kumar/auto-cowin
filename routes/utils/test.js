var fs = require("fs");
// var svg2img = require("svg2img");
var svg2png = require("svg-png-converter");
// var btoa = require("btoa");

//1. convert from svg string
// svg2img(svgString, function(error, buffer) {
//     //returns a Buffer
//     fs.writeFileSync("foo1.png", buffer);
// });

var svgString =
    '<svg xmlns="http://www.w3.org/2000/svg" width="150" height="50" viewBox="0,0,150,50"><path d="M1 17 C78 42,84 47,148 30" stroke="#333" fill="none"/><path fill="#111" d="M119.54 28.55L119.56 28.57L119.53 28.54Q116.85 28.68 116.09 30.93L116.07 30.90L115.92 30.76Q115.70 31.49 115.59 32.14L115.61 32.16L115.75 32.30Q118.32 32.47 119.95 32.47L119.97 32.48L119.86 32.38Q121.60 32.48 124.19 32.36L124.15 32.33L124.17 32.35Q124.10 30.67 122.69 29.61L122.62 29.54L122.68 29.60Q121.32 28.55 119.53 28.55ZM119.74 41.24L119.76 41.26L119.72 41.22Q115.42 41.15 114.13 39.74L114.06 39.68L114.23 39.84Q113.14 38.25 112.98 34.98L113.09 35.09L112.97 34.96Q113.14 34.91 113.07 33.54L112.91 33.38L112.88 33.36Q112.91 31.22 112.91 30.49L112.88 30.46L112.87 30.45Q112.77 28.49 113.50 27.38L113.57 27.46L113.49 27.38Q114.86 25.93 117.83 25.93L117.92 26.02L119.41 25.95L119.43 25.97Q121.57 26.05 123.09 26.36L122.98 26.25L123.04 26.31Q125.16 26.83 126.15 28.05L126.11 28.00L126.08 27.97Q126.71 29.06 126.78 31.15L126.80 31.17L126.83 31.20Q126.81 32.32 126.85 34.49L126.81 34.46L126.76 34.40Q124.04 34.58 121.26 34.58L121.26 34.58L115.62 34.54L115.58 34.49Q115.68 38.85 119.75 38.63L119.75 38.63L119.76 38.63Q123.62 38.54 124.84 36.71L124.86 36.73L124.79 36.66Q125.60 37.12 127.20 38.30L127.25 38.36L127.28 38.39Q126.01 40.89 121.87 41.16L121.84 41.13L121.76 41.05Q121.00 41.05 119.63 41.13ZM122.02 43.56L122.01 43.55L121.98 43.51Q123.12 43.52 124.34 43.60L124.36 43.62L124.34 43.60Q129.28 43.73 130.19 40.95L130.15 40.91L130.09 40.86Q128.55 39.70 127.45 38.94L127.55 39.04L127.44 38.93Q127.62 38.54 127.81 38.31L127.81 38.31L127.84 38.34Q127.17 37.94 125.80 36.98L125.66 36.85L125.73 36.92Q126.70 36.86 128.76 37.16L128.81 37.22L128.90 37.30Q128.60 35.83 128.53 35.14L128.62 35.24L128.45 33.28L128.45 33.27Q128.31 30.93 127.66 29.44L127.61 29.39L127.74 29.52Q127.48 29.18 126.91 28.58L126.81 28.47L126.85 28.52Q126.60 28.11 126.37 27.54L126.48 27.65L126.50 27.67Q124.56 25.58 119.49 25.58L119.57 25.65L117.83 25.59L117.79 25.55Q114.56 25.55 113.11 27.04L113.07 26.99L113.05 26.98Q112.45 28.17 112.49 30.22L112.57 30.30L112.49 30.22Q112.59 31.24 112.70 33.48L112.70 33.48L112.61 33.38Q112.80 35.10 112.91 37.15L112.93 37.18L112.84 37.09Q113.19 39.42 114.07 40.48L113.97 40.38L114.06 40.47Q114.11 40.52 114.30 40.64L114.30 40.63L114.57 41.25L114.68 41.36Q115.36 43.10 121.95 43.49ZM119.78 38.24L119.82 38.28L119.83 38.29Q118.70 38.41 117.79 37.96L117.71 37.88L117.76 37.93Q117.78 37.61 117.59 36.92L117.51 36.84L117.48 36.81Q119.15 36.69 120.75 36.69L120.87 36.81L120.90 36.84Q122.53 36.80 124.21 36.91L124.09 36.79L124.27 36.97Q122.91 38.25 119.91 38.36ZM121.47 30.94L121.42 30.89L121.54 31.01Q122.07 30.93 123.40 31.31L123.48 31.39L123.57 31.67L123.62 31.91L123.72 32.01Q122.33 32.11 121.42 32.07L121.31 31.96L121.45 32.10Q119.12 32.02 119.08 32.02L119.08 32.02L119.06 32.00Q119.89 31.15 121.57 31.04Z"/><path d="M15 16 C90 36,56 45,131 37" stroke="#222" fill="none"/><path fill="#444" d="M46.43 19.59L46.57 19.73L44.97 19.80L44.89 19.72Q42.70 19.88 42.47 21.90L42.54 21.97L42.39 21.83Q42.29 22.53 42.33 23.52L42.34 23.53L42.36 23.55Q42.41 25.50 43.66 26.83L43.67 26.84L43.78 26.94Q45.03 28.27 46.93 28.12L46.78 27.97L46.83 28.02Q48.95 27.93 49.72 27.02L49.74 27.04L49.68 26.98Q50.70 26.02 50.96 23.78L51.06 23.87L51.06 23.88Q51.35 21.65 50.09 20.81L50.09 20.81L49.93 20.65Q49.07 19.86 46.40 19.56ZM52.51 28.86L52.59 28.94L51.16 31.09L51.30 31.23Q48.49 35.92 44.72 39.99L44.85 40.13L44.73 40.00Q43.09 40.15 40.38 40.95L40.48 41.04L40.42 40.99Q45.81 34.76 48.97 29.96L48.99 29.99L48.83 29.82Q47.87 30.54 46.23 30.62L46.29 30.68L46.22 30.60Q43.33 30.88 41.81 28.90L41.79 28.88L41.78 28.86Q40.47 27.17 39.36 22.60L39.45 22.69L39.36 22.60Q39.49 22.28 39.34 21.34L39.29 21.30L39.22 21.22Q39.13 20.36 39.13 19.90L39.15 19.92L39.06 19.83Q39.17 18.15 40.24 17.54L40.07 17.37L40.12 17.42Q41.47 16.79 43.33 16.79L43.20 16.66L43.30 16.76Q46.44 16.70 46.44 16.70L46.37 16.63L46.37 16.63Q48.58 16.71 49.83 16.90L49.96 17.03L49.89 16.95Q51.98 17.17 52.89 17.67L52.93 17.71L52.84 17.62Q54.24 18.41 54.43 20.16L54.39 20.12L54.52 20.25Q54.42 20.38 54.23 23.05L54.34 23.15L54.20 23.01Q53.86 25.19 53.63 26.02L53.64 26.03L53.58 25.97Q53.25 27.43 52.49 28.84ZM54.37 31.22L54.53 31.38L54.52 31.37Q55.41 29.06 55.94 24.76L55.97 24.78L56.00 24.82Q56.13 22.47 56.10 21.60L56.18 21.68L56.18 21.68Q56.19 19.86 55.00 18.95L54.92 18.86L54.74 18.87L54.63 18.76Q54.41 18.04 53.49 17.40L53.41 17.31L53.55 17.45Q51.13 16.32 46.33 16.17L46.34 16.18L46.42 16.26Q45.39 16.19 42.96 16.19L43.09 16.32L43.11 16.34Q41.34 16.33 39.86 17.01L39.71 16.86L39.83 16.98Q38.66 17.75 38.74 19.58L38.71 19.55L38.80 19.64Q38.86 20.43 39.05 22.45L39.11 22.51L39.08 22.47Q39.79 25.20 40.05 26.04L39.94 25.92L40.03 26.01Q40.50 27.78 41.45 29.07L41.42 29.04L41.59 29.21Q41.85 29.55 42.23 29.93L42.18 29.88L42.08 29.78Q42.44 30.33 43.09 31.24L42.97 31.12L43.13 31.29Q44.53 32.57 46.47 32.76L46.48 32.77L46.46 32.75Q44.61 35.47 43.05 37.37L42.93 37.25L39.38 41.69L39.36 41.68Q41.65 40.96 43.29 40.61L43.34 40.67L43.21 40.54Q42.46 41.42 40.89 43.13L40.86 43.10L40.92 43.16Q44.10 42.34 47.22 42.30L47.22 42.30L47.16 42.24Q49.56 39.73 53.90 32.50L53.89 32.49L53.73 32.40L53.86 32.54Q54.18 31.87 54.53 31.37ZM48.48 22.09L48.38 21.99L48.47 22.08Q48.97 21.85 49.42 21.97L49.48 22.02L49.40 21.95Q50.05 22.07 50.44 22.18L50.61 22.35L50.51 22.25Q50.54 22.56 50.62 22.97L50.61 22.96L50.67 23.02Q50.87 23.56 50.75 23.94L50.69 23.88L50.72 23.91Q50.66 25.60 49.48 26.70L49.36 26.59L49.45 26.68Q48.46 27.67 46.83 27.63L46.76 27.57L46.79 27.60Q46.42 27.65 44.90 27.34L44.92 27.36L44.96 27.40Q44.78 26.57 44.78 25.85L44.74 25.82L44.67 25.74Q44.64 25.52 44.64 25.29L44.63 25.29L44.67 25.32Q44.59 23.04 46.88 22.24L46.86 22.23L46.96 22.32Q47.60 22.05 48.44 22.05Z"/><path d="M10 37 C68 12,57 41,140 17" stroke="#111" fill="none"/><path fill="#333" d="M24.78 39.94L24.64 39.80L24.71 39.87Q22.79 39.86 20.77 40.05L20.74 40.01L20.79 40.06Q21.30 34.67 21.30 29.83L21.31 29.84L21.36 29.90Q21.39 25.02 20.75 19.80L20.84 19.90L20.76 19.82Q16.18 19.43 12.98 17.75L13.04 17.81L12.18 15.93L12.19 15.93Q11.96 15.39 11.35 14.17L11.38 14.21L11.36 14.19Q16.47 16.90 22.49 17.09L22.48 17.08L22.61 17.21Q28.37 17.26 33.81 15.21L33.89 15.29L33.89 15.29Q33.14 16.67 32.49 18.49L32.54 18.54L32.40 18.40Q28.79 19.70 24.53 19.89L24.69 20.06L24.58 19.95Q24.38 24.96 24.38 29.91L24.48 30.01L24.46 29.99Q24.38 34.86 24.69 39.85ZM34.48 14.50L34.57 14.59L34.52 14.54Q28.60 16.73 22.39 16.54L22.40 16.54L22.45 16.60Q15.85 16.46 10.74 13.50L10.72 13.47L10.72 13.47Q11.41 14.69 12.70 17.97L12.75 18.01L12.80 18.06Q13.40 18.32 14.65 18.89L14.72 18.96L14.66 18.90Q14.99 19.69 15.34 21.21L15.21 21.09L15.34 21.21Q17.57 22.00 20.62 22.23L20.59 22.20L20.68 22.29Q21.05 25.97 21.05 29.74L21.03 29.72L21.06 29.75Q20.99 35.04 20.19 40.41L20.26 40.49L20.22 40.44Q21.96 40.40 22.50 40.40L22.46 40.36L22.50 40.40Q22.43 40.63 22.37 41.30L22.26 41.19L22.24 41.18Q22.28 41.93 22.28 42.27L22.30 42.30L22.31 42.31Q23.54 42.28 25.06 42.36L25.06 42.36L25.09 42.38Q25.83 42.25 27.66 42.40L27.82 42.56L27.69 42.44Q26.59 37.64 26.48 32.46L26.43 32.42L26.45 32.44Q26.19 27.00 26.72 22.09L26.68 22.04L26.82 22.19Q30.69 21.56 33.85 20.34L33.89 20.39L33.95 20.44Q34.49 17.90 35.51 15.84L35.61 15.94L35.63 15.96Q34.34 16.69 33.54 16.99L33.39 16.84L33.43 16.88Q33.85 15.59 34.42 14.45Z"/><path fill="#333" d="M76.85 40.94L76.87 40.97L76.76 40.85Q75.58 39.30 74.29 36.21L74.18 36.11L72.21 31.13L72.20 31.12Q70.62 35.13 70.01 36.43L70.01 36.43L70.02 36.44Q68.46 39.26 66.86 41.16L66.88 41.18L66.97 41.27Q66.57 41.25 65.81 41.36L65.74 41.30L65.73 41.28Q65.69 33.82 59.87 27.88L59.94 27.96L60.00 28.01Q58.08 26.02 56.06 24.54L56.24 24.71L56.11 24.58Q57.97 25.15 59.83 25.45L59.90 25.52L59.85 25.47Q65.97 30.48 67.42 36.73L67.45 36.76L67.44 36.75Q68.30 34.88 69.48 31.68L69.43 31.62L69.46 31.65Q70.88 27.97 71.45 26.68L71.40 26.63L72.81 26.63L72.68 26.50Q73.67 28.33 74.85 31.60L74.83 31.58L74.88 31.63Q76.23 35.30 76.88 36.71L76.76 36.60L76.75 36.58Q78.67 30.39 84.15 25.83L84.17 25.84L84.10 25.77Q85.25 25.62 87.99 25.05L88.09 25.15L87.98 25.04Q79.41 31.14 78.23 41.11L78.10 40.98L77.47 40.88L77.56 40.97Q77.21 40.93 76.87 40.97ZM79.77 43.33L81.99 43.69L81.86 43.56Q81.58 42.06 81.58 40.54L81.56 40.52L81.50 40.46Q81.64 37.36 83.05 34.12L82.90 33.97L82.96 34.03Q85.04 29.61 89.16 26.53L89.03 26.40L89.07 26.44Q87.81 26.67 85.94 27.01L85.98 27.05L85.93 27.00Q87.94 25.39 89.23 24.47L89.21 24.45L86.79 25.00L86.66 24.87Q85.48 25.14 84.15 25.29L84.18 25.32L84.24 25.38Q79.04 29.58 77.10 34.61L77.08 34.59L77.06 34.57Q76.47 32.45 75.10 28.19L75.06 28.15L75.05 28.14Q74.80 28.24 74.53 28.24L74.48 28.19L73.92 28.15L74.00 28.23Q73.88 27.92 73.08 26.17L73.14 26.23L70.94 26.09L70.92 26.07Q70.13 29.05 68.04 34.68L68.02 34.67L68.04 34.69Q66.59 30.88 63.51 27.60L63.57 27.67L63.49 27.59Q63.30 27.66 62.99 27.62L62.93 27.56L62.36 27.44L62.35 27.43Q61.63 26.75 59.84 25.15L59.74 25.05L59.78 25.09Q56.61 24.44 54.94 23.94L54.97 23.97L54.92 23.93Q65.60 31.33 65.22 41.65L65.36 41.79L65.23 41.66Q65.38 41.62 65.74 41.58L65.83 41.67L65.84 41.68Q66.26 41.70 66.45 41.70L66.34 41.59L66.42 41.67Q66.33 41.43 66.52 43.52L66.63 43.63L68.48 43.39L68.43 43.33Q71.18 40.68 73.43 34.94L73.27 34.77L73.35 34.85Q74.91 38.78 76.77 41.44L76.68 41.35L76.78 41.45Q77.07 41.40 77.34 41.42L77.22 41.29L77.37 41.44Q77.52 41.35 77.79 41.35L77.72 41.29L79.84 43.41Z"/><path fill="#444" d="M95.00 28.68L95.02 28.70L94.87 28.55Q92.03 28.53 91.27 30.78L91.31 30.82L91.31 30.82Q91.21 31.67 91.10 32.32L90.92 32.13L91.07 32.29Q93.57 32.39 95.21 32.39L95.32 32.51L95.29 32.47Q96.90 32.44 99.49 32.33L99.51 32.35L99.46 32.31Q99.36 30.61 97.96 29.54L98.01 29.59L97.94 29.53Q96.73 28.62 94.94 28.62ZM94.97 41.14L95.05 41.22L94.95 41.12Q90.81 41.21 89.52 39.80L89.57 39.85L89.55 39.83Q88.62 38.40 88.46 35.13L88.39 35.05L88.38 35.04Q88.43 34.86 88.35 33.49L88.35 33.49L88.31 33.45Q88.22 31.19 88.22 30.47L88.21 30.46L88.18 30.43Q88.06 28.44 88.78 27.34L88.83 27.39L88.89 27.44Q90.22 25.96 93.19 25.96L93.20 25.97L94.87 26.08L94.82 26.03Q96.95 26.10 98.47 26.40L98.42 26.35L98.39 26.32Q100.41 26.74 101.40 27.96L101.46 28.03L101.54 28.10Q102.01 29.02 102.08 31.12L102.16 31.20L102.15 31.19Q102.14 32.32 102.18 34.49L102.07 34.38L102.11 34.42Q99.25 34.46 96.48 34.46L96.44 34.42L90.93 34.51L90.85 34.43Q91.02 38.87 95.10 38.64L95.23 38.77L95.22 38.76Q98.83 38.42 100.05 36.59L100.15 36.69L100.10 36.63Q101.00 37.19 102.60 38.38L102.66 38.44L102.60 38.38Q101.18 40.72 97.03 40.99L97.21 41.17L97.11 41.07Q96.32 41.04 94.95 41.12ZM97.29 43.50L97.27 43.47L97.36 43.56Q98.36 43.42 99.58 43.50L99.71 43.63L99.60 43.52Q104.53 43.66 105.45 40.88L105.44 40.87L105.47 40.90Q103.86 39.68 102.76 38.92L102.88 39.04L102.76 38.91Q102.90 38.48 103.09 38.25L103.12 38.29L103.24 38.41Q102.44 37.87 101.07 36.92L101.03 36.88L101.12 36.98Q102.05 36.87 104.11 37.18L104.12 37.19L104.10 37.17Q104.08 35.97 104.00 35.28L104.03 35.31L103.86 33.35L103.77 33.27Q103.75 31.04 103.11 29.55L103.10 29.54L102.94 29.38Q102.69 29.06 102.12 28.45L102.23 28.56L102.24 28.57Q101.95 28.13 101.72 27.56L101.79 27.63L101.86 27.70Q99.81 25.49 94.74 25.49L94.90 25.65L93.20 25.62L93.06 25.48Q89.88 25.54 88.44 27.03L88.38 26.97L88.42 27.01Q87.68 28.07 87.72 30.12L87.89 30.29L87.85 30.24Q87.80 31.12 87.92 33.36L88.05 33.49L88.09 33.54Q88.16 35.13 88.27 37.18L88.21 37.12L88.10 37.01Q88.45 39.34 89.33 40.40L89.29 40.37L89.28 40.36Q89.57 40.64 89.76 40.76L89.72 40.73L89.97 41.32L89.96 41.31Q90.68 43.09 97.27 43.47ZM95.23 38.35L95.18 38.30L95.18 38.30Q94.07 38.45 93.15 37.99L93.20 38.04L93.12 37.96Q93.11 37.61 92.92 36.92L92.85 36.85L92.88 36.87Q94.62 36.83 96.22 36.83L96.14 36.75L96.21 36.82Q97.76 36.70 99.44 36.81L99.47 36.85L99.51 36.88Q98.13 38.13 95.12 38.24ZM96.75 30.88L96.82 30.96L96.91 31.05Q97.46 30.99 98.79 31.37L98.89 31.46L98.95 31.72L98.94 31.90L99.10 32.06Q97.73 32.17 96.81 32.13L96.63 31.94L96.65 31.97Q94.40 31.96 94.36 31.96L94.42 32.02L94.49 32.09Q95.21 31.14 96.88 31.02Z"/></svg>';

svg2png.svg2png({
        input: svgString.trim(),
        encoding: "dataURL",
        format: "jpeg",
    },
    function(error, buffer) {
        if (error) {
            console.error(error);
            throw new Error(error);
        }
        console.log("Completed!!!");
        fs.writeFileSync("foo1.jpeg", buffer);
    }
);